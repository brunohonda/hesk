function initDatePickerEvents(){$(".param.calendar button").click(function(e){$(this).addClass("active"),$(this).parent().find(".datepicker").data("datepicker").show()}),$(".param.calendar .close").click(function(e){$(this).parent().parent().find(".calendar--button").find(".datepicker").data("datepicker").clear(),$(this).parent().parent().find(".calendar--value").fadeOut(150,function(){$(this).find("span").text("")})})}function escapeHtml(e){var t=document.createTextNode(e),a=document.createElement("p");return a.appendChild(t),a.innerHTML}$(document).ready(function(){var e,t,a,s,i,o,r,l,c,d,p,f,u,h,g,m=localStorage.getItem("main_menu")?localStorage.getItem("main_menu"):"open";for(1200>$(document).width()?$(".main-menu").addClass("is-toggled"):"close"==m?(console.log("close"==m),$(".main-menu").addClass("is-toggled")):"open"==m&&$(".main-menu").removeClass("is-toggled"),$(window).resize(function(e){1200>$(document).width()?$(".main-menu").addClass("is-toggled"):$(".main-menu").removeClass("is-toggled")}),svg4everybody(),t=function(e,t){var a;return a=void 0,function(){var s,i;return i=this,s=arguments,clearTimeout(a),a=setTimeout(function(){return e.apply(i,s)},t)}},l=function(e){var t,a,s,i,o,r,l;return a=this,s=document.createElement("span"),i=a.offsetWidth,t=a.getBoundingClientRect(),r=e.offsetX-i/2,o="top:"+(l=e.offsetY-i/2)+"px; left: "+r+"px; height: "+i+"px; width: "+i+"px;",a.rippleContainer.appendChild(s),s.setAttribute("style",o)},e=function(){for(;this.rippleContainer.firstChild;)this.rippleContainer.removeChild(this.rippleContainer.firstChild)},c=function(e){e=e||150,$(".profile__item--notification").removeClass("active").find(".notification-list").slideUp(e),$(".profile__user").removeClass("active").find(".profile__menu").slideUp(e),$(".dropdown, .dropdown-select").removeClass("active"),$(".dropdown-list").slideUp(e,function(){$(this).find(".assign--buttons").show(),$(this).find(".assign--list").hide()}),$(".form__search_type").slideUp(150),$(".form__search_results").slideUp(150)},dropdownSelectRender=function(e){var t,a,s,i=$(e).find("select"),o=[],r="";i.find("option").each(function(e,i){o.push({val:$(i).val(),text:$(i).text(),selected:$(i).is(":selected"),data_class:void 0!==$(i).attr("data-class")?$(i).attr("data-class"):"",data_style:void 0!==$(i).attr("data-style")?$(i).attr("data-style"):""}),$(i).is(":selected")&&(t=$(i).text(),a=void 0!==$(i).attr("data-class")?$(i).attr("data-class"):"",s=void 0!==$(i).attr("data-style")?$(i).attr("data-style"):"")});var l=$('input[type="hidden"][name="HESK_PATH"]').val();let c="",d=i.attr("data-append-icon-class");if(d&&(c='<svg class="icon '+d+'"><use xlink:href="'+l+"img/sprite.svg#"+d+'"></use></svg>'),void 0!==a&&void 0!==s&&""==r)var r='<div class="'+a+' remove_on_select" style = "'+s+'"></div>';var p='<div class="label">'+c+" "+r+"<span>"+escapeHtml(t)+'</span><svg class="icon icon-chevron-down"><use xlink:href="'+l+'img/sprite.svg#icon-chevron-down"></use></svg></div><ul class="dropdown-list">';for(var f in o)o[f].selected&&$(e).attr("data-value",o[f].val),void 0!==o[f].data_class&&void 0!==o[f].data_style&&(o[f].data_class,o[f].data_style),p+='<li data-option="'+o[f].val+'"'+(o[f].selected?' class="selected"':"")+">"+escapeHtml(o[f].text)+"</li>";p+="</ul></div>",$(e).append(p)},r=document.querySelectorAll("[ripple]"),a=0,s=r.length;a<s;a++)i=r[a],(o=document.createElement("div")).className="ripple--container",i.addEventListener("mousedown",l),i.addEventListener("mouseup",t(e,1e4)),i.rippleContainer=o,i.appendChild(o);for($(".input-group-append--icon").on("click",function(e){var t=$(this).closest(".form-group").find("input"),a=$(this).find("use").attr("xlink:href");"text"==t.attr("type")?(t.attr("type","password"),$(this).find("svg").removeClass("icon-eye-open").addClass("icon-eye-close"),a=a.replace("eye-open","eye-close"),$(this).find("use").attr("xlink:href",a)):"password"==t.attr("type")&&(t.attr("type","text"),$(this).toggleClass("passwordIsHidden"),a=a.replace("eye-close","eye-open"),$(this).find("use").attr("xlink:href",a),$(this).find("svg").removeClass("icon-eye-close").addClass("icon-eye-open"))}),$(".listitem.submenu").click(function(e){$(this).hasClass("submenu-is-opened")||$(".submenu.submenu-is-opened .submenu__list").slideUp(400,function(){$(this).closest(".submenu-is-opened").removeClass("submenu-is-opened")}),$(e.target).closest(".submenu__list").length?location.href=$(e.target).find("a").attr("href"):(e.preventDefault(),console.log($(this).hasClass("submenu-is-opened")),$(this).find(".submenu__list").stop(!0,!0).slideToggle(150),$(this).toggleClass("submenu-is-opened"))}),$("#navbarToggler").click(function(){console.log(),$(this).closest(".main-menu").hasClass("is-toggled")?(localStorage.setItem("main_menu","open"),$(this).closest(".main-menu").removeClass("is-toggled")):(localStorage.setItem("main_menu","close"),$(this).closest(".main-menu").addClass("is-toggled"))}),$(".table").length>0&&$(".table__td-id .checkbox-custom label").click(function(){$(this).closest("tr").toggleClass("is-checked")}),$('.checkbox-custom input[type="checkbox"]').change(function(e){$(e.target).is(":checked")?$(e.target).closest(".checkbox-custom").addClass("checked"):$(e.target).closest(".checkbox-custom").removeClass("checked")}),d=document.getElementsByClassName("select-custom"),a=0;a<d.length;a++){for(f=d[a].getElementsByTagName("select")[0],(u=document.createElement("DIV")).setAttribute("class","select-selected"),u.dataset.value=f[0].value,u.innerHTML=f.options[f.selectedIndex].innerHTML,d[a].insertBefore(u,f),(h=document.createElement("DIV")).setAttribute("class","select-items select-hide"),p=1;p<f.length;p++)(g=document.createElement("DIV")).innerHTML=f.options[p].innerHTML,g.addEventListener("click",function(e){var t,a,s,i,o;for(a=0,i=this.parentNode.parentNode.getElementsByTagName("select")[0],o=this.parentNode.previousSibling;a<i.length;a++)if(i.options[a].innerHTML==this.innerHTML){for(s=0,i.selectedIndex=a,o.innerHTML=this.innerHTML,t=this.parentNode.getElementsByClassName("same-as-selected");s<t.length;s++)t[s].removeAttribute("class");this.setAttribute("class","same-as-selected"),o.dataset.value=i.options[a].getAttribute("value");break}o.click()}),h.appendChild(g);d[a].insertBefore(h,f),u.addEventListener("click",function(e){e.stopPropagation(),b(this),this.nextSibling.classList.toggle("select-hide"),this.classList.toggle("select-arrow-active")})}function b(e){var t,a,s,i=[];for(s=0,t=document.getElementsByClassName("select-items"),a=document.getElementsByClassName("select-selected");s<a.length;s++)e==a[s]?i.push(s):a[s].classList.remove("select-arrow-active");for(s=0;s<t.length;s++)i.indexOf(s)&&t[s].classList.add("select-hide");if($(e.target).closest(".out-close").length||c(),$(e.target).closest(".dropdown").length)return}var v=!0;if($(document).click(b),$(document).on("touchend","body",function(e){v&&($(document).unbind("click"),v=!1),b(e)}),$(".filters").length>0){var y=$("#filtersListing"),k=$("#btnToggleFilters"),w=$("#filtersAction");function C(){if(k.find(".toggler-value").text(y.find(".filter-item").length),y.hasClass("is-collapsed"))y.removeClass("is-collapsed"),y.find(".overflowed").unwrap().removeClass("overflowed"),k.find(".toggler-text").text("Hide");else{k.find(".toggler-text").text("Show all");var e=k.width()+parseInt(k.css("marginLeft")),t=y.width()-e-w.width()+200,a=e+w.width();y.children(".filter-item").each(function(e,s){var i=a+$(this).width()+parseInt($(this).css("marginLeft"),10);t>i?a=i:$(this).addClass("overflowed")}),k.removeClass("overflowed"),y.find(".overflowed").wrapAll("<div class='filtersListingCollapsed' />"),y.addClass("is-collapsed")}}C(),k.click(function(){C()})}$('.filters-mobile [data-action="mobile-filters-more"]').click(function(){$(".filters-mobile").toggleClass("open")}),$('.filters-mobile [data-action="mobile-filters-hide"]').click(function(){$(".filters-mobile").toggleClass("open")}),$('[data-action="go-back"]').click(function(e){window.history.go(-1),e.preventDefault()}),$("#login-form").submit(function(e){var t=$.trim($("#regInputUsername").val()).length,a=$("#regInputPassword").val().length;t||($("#regInputUsername").closest(".form-group").addClass("error"),e.preventDefault()),a||($("#regInputPassword").closest(".form-group").addClass("error"),e.preventDefault()),t&&a&&($(e.target).addClass("invalid"),e.preventDefault())}),$("#login-form input").keyup(function(e){$(e.target).val()&&$(e.target).closest(".form-group").removeClass("error")}),$("#delInputPassword").keyup(function(e){$(e.target).val().length?$("#delete-form .btn-full").removeAttr("disabled"):$("#delete-form .btn-full").attr("disabled","disabled")}),$("#header-search").focus(function(e){$(".form__search").addClass("focus"),$(".form__search").hasClass("type")||$(".form__search_type").slideDown(150)}),$("#header-search").blur(function(e){$(".form__search").removeClass("focus")}),$("#header-search").keyup(function(e){$.trim($(this).val()).length?$(".form__search").addClass("value"):$(".form__search").removeClass("value")}),$(".form__search .search--type").click(function(e){$(".form__search_results").slideUp(150),$(".form__search_type").slideDown(150)}),$(".form__search_type .type--list [data-type]").click(function(e){var t=$(this).attr("data-type");$(".form__search").addClass("type value").find("input").attr("placeholder","").prop("readonly",!1).focus(),$(".form__search .search-clear").show(),$(".form__search .search--type").html(t+":").show(),$(".form__search_type").slideUp(150)}),$(".form__search .search-clear").click(function(e){$("#header-search").val("").attr("placeholder","Search for tickets, templates, articles, team members").prop("readonly",!0),$(".form__search").removeClass(["value","type"]),$("#header-search").focus(),$(".form__search .search--type").hide().html(""),$(".form__search_results").slideUp(150)}),$(".topmenu__list .topmenu__item").mouseenter(function(e){if($(this).find(".topmenu__dropdown").length){var t=$(this).find(".topmenu__dropdown").width(),a=$(this).offset().left-(t/2-$(this).width()/2)<0,s=$(this).offset().left+$(this).width()+(t/2-$(this).width()/2)>$(document).width();a?$(this).find(".topmenu__dropdown").css("left",0):s?$(this).find(".topmenu__dropdown").css({left:"auto",right:0}):$(this).find(".topmenu__dropdown").removeAttr("style")}}),$('[data-action="advanced-search"]').click(function(e){$(".right-bar.advanced-search").fadeIn(150)}),$(".dropdown-select").each(function(e,t){dropdownSelectRender(t)}),$("body").on("click",".dropdown > label",function(e){$(e.currentTarget).closest(".dropdown").hasClass("active")?$(e.currentTarget).closest(".dropdown").removeClass("active").find(".dropdown-list").slideUp(150):($(".dropdown").removeClass("active"),$(".dropdown-list").slideUp(150),$(e.currentTarget).closest(".dropdown").addClass("active").find(".dropdown-list").slideDown(150))}),$("body").on("click",".dropdown-list > li",function(e){$(e.currentTarget).hasClass("noclose")||$(e.currentTarget).closest(".dropdown").removeClass("active").find(".dropdown-list").slideUp(150)}),$("body").on("click",".dropdown-select .label",function(e){$(e.currentTarget).closest(".dropdown-select").hasClass("active")?$(e.currentTarget).closest(".dropdown-select").removeClass("active").find(".dropdown-list").slideUp(150):($(".dropdown-select").removeClass("active"),$(".dropdown-list").slideUp(150),$(e.currentTarget).closest(".dropdown-select").addClass("active").find(".dropdown-list").slideDown(150))}),$("body").on("click",".dropdown-list > li",function(e){$(e.currentTarget).hasClass("noclose")||$(e.currentTarget).closest(".dropdown").removeClass("active").find(".dropdown-list").slideUp(150)}),$("body").on("click",".dropdown-select .dropdown-list li",function(e){var t,a;a=$(e.currentTarget).attr("data-option"),t=$(e.currentTarget).closest(".dropdown-select").hasClass("submit-us")?(t=a.length?"Submit as "+$(e.currentTarget).text():$(e.currentTarget).text()).toLowerCase().charAt(0).toUpperCase()+t.toLowerCase().substr(1):$(e.currentTarget).closest(".dropdown-select").hasClass("select-priority")?$(e.currentTarget).html():$(e.currentTarget).text(),$(e.currentTarget).closest(".dropdown-list").find("li").removeClass("selected"),$(e.currentTarget).addClass("selected"),$(e.currentTarget).closest(".dropdown-select").hasClass("select-priority")?($(e.currentTarget).closest(".dropdown-select").attr("data-value",a).find(".label .remove_on_select").remove(),$(e.currentTarget).closest(".dropdown-select").attr("data-value",a).find(".label span").html(t)):$(e.currentTarget).closest(".dropdown-select").attr("data-value",a).find(".label span").text(t),$(e.currentTarget).closest(".dropdown-select").removeClass("active"),$(e.currentTarget).closest(".dropdown-list").slideUp(150),$(e.currentTarget).closest(".dropdown-select").find('select option[value="'+a+'"]').prop("selected",!0),$(e.currentTarget).closest(".dropdown-select").find("select").trigger("change")}),$(".ticket__replies_link").click(function(e){$(e.currentTarget).hasClass("visible")?($(e.currentTarget).removeClass("visible"),$(".ticket__replies_list").slideUp(150)):($(".ticket__replies_list").slideDown(150),$(e.currentTarget).addClass("visible"))});var _=[];$('.block--attach input[type="file"]').change(function(e){for(a=0;a<e.target.files.length;a++){_.push(e.target.files[a]);var t="."+e.target.files[a].name.split(".")[e.target.files[a].name.split(".").length-1],s="";for(n=0;n<e.target.files[a].name.split(".").length;n++)n<e.target.files[a].name.split(".").length-1&&(s+=e.target.files[a].name.split(".")[n]);s.length>16&&(s=s.slice(0,10)+"..."+s.slice(s.length-8,s.length));var i="<div><span>"+s+t+'</span><i><svg class="icon icon-close"><use xlink:href="./img/sprite.svg#icon-close"></use></svg></i></div>';$(".block--attach-list").append(i),$(".block--attach-list div").each(function(e,t){$(t).attr("data-i",e)})}}),$("body").on("click",".block--attach-list div i",function(e){var t=Number($(e.target).closest("div").attr("data-i"));_.splice(t,1),$(e.currentTarget).closest("div").slideUp(150,function(){$(e.currentTarget).closest("div").remove(),$(".block--attach-list div").each(function(e,t){$(t).attr("data-i",e)})}),console.log(_)}),$(".accordion-title").click(function(e){$(e.currentTarget).closest(".accordion").hasClass("visible")?($(e.currentTarget).closest(".accordion").find(".accordion-body").slideUp(150),$(e.currentTarget).closest(".accordion").removeClass("visible")):($(e.currentTarget).closest(".accordion").find(".accordion-body").slideDown(150),$(e.currentTarget).closest(".accordion").addClass("visible"))}),$(".filter-item .close").click(function(e){e.preventDefault(),e.stopPropagation(),$(this).closest(".filter-item").remove(),$("#btnToggleFilters .toggler-value").text($(".filters .filters__listing .filter-item").length)}),$('.filter-item.group input[type="checkbox"]').change(function(e){e.preventDefault(),e.stopPropagation(),$('.filter-item.group input[type="checkbox"]:checked').prop("checked",!1),$(this).prop("checked",!0)});var x=function(e){$(".right-bar.template-create").fadeIn(150,function(){$(this).find(".right-bar__body").css("transform","translateX(0%)")})},T=function(e){var t=$(".right-bar__body h3 a")[0];t&&""!==t.href&&"javascript:"!==t.href&&(window.location.href=t.href),$(".right-bar").fadeOut(150),$("body").removeClass("noscroll")};$("body").on("click",'[data-action="create-template"], [data-action="edit-template"]',function(e){x(e),$("input:text:visible:first").focus(),e.preventDefault()});let D,I;$(".right-bar").on("mousedown",function(e){D=e.pageX,I=e.pageY}).click(function(e){let t=Math.abs(e.pageX-D),a=Math.abs(e.pageY-I);!(t>10)&&!(a>10)&&($(e.target).closest(".right-bar__body").length||T(e))}),$(".right-bar__body h3 a").click(function(e){T(e),(""===e.currentTarget.href||"javascript:"===e.currentTarget.href)&&e.preventDefault()}),$('[data-action="delete-template"]').click(function(e){x(e),e.preventDefault()});var U={};$("body").on("click",'[data-action="delete"]',function(e){var t=$(e.target).closest("li").find("h3").text(),a="response__list"==$(e.target).closest("ul").attr("class")?"response":"ticket";$(this).closest("li").addClass("pre-delete"),$(".modal.templates .modal__description").html(t),$(".modal.templates h3 span").html(a),L(e,$(".modal.templates")),e.preventDefault()}),$(".modal").click(function(e){$(e.target).hasClass("modal")&&O(e)}),$('[data-action="template-delete-confirm"]').click(function(e){var t="response__list"==$(".pre-delete").closest("ul").attr("class")?"response":"ticket",a=$(".pre-delete h3").text();$(".pre-delete").slideUp(150,function(e){$(this).addClass("deleted"),$(this).closest("ul").find("li").each(function(e,a){$(this).hasClass("deleted")&&(U={type:t,position:e,el:a})}),$(this).remove(),console.log(U)}),O(),$('[data-type="template-delete"] .notification--title').text("You deleted the "+t),$('[data-type="template-delete"] .notification--text').text(a),$('[data-type="template-delete"]').fadeIn(150)}),$('[data-action="template-delete-cancel"]').click(function(e){var t="response"==U.type?".response__list":".ticket__list";0==U.position?$(t).prepend(U.el):$(t+" li:nth-child("+U.position+")").after(U.el),$(".deleted").slideDown(150,function(){$(this).removeClass("deleted")}),$(this).closest(".notification-flash").fadeOut(150)}),$('[data-action="show-notification"]').click(function(e){$(this).closest(".profile__item").hasClass("active")?$(this).closest(".profile__item").removeClass("active").find(".notification-list").slideUp(150):(c(),$(this).closest(".profile__item").addClass("active").find(".notification-list").slideDown(150))}),$('[data-action="show-profile"]').click(function(e){$(".profile__user").hasClass("active")?$(".profile__user").removeClass("active").find(".profile__menu").slideUp(150):(c(),$(".profile__user").addClass("active").find(".profile__menu").slideDown(150))});var L=function(e,t){t.fadeIn(150)};$("[data-modal]").click(function(){void 0!==($this=$(this)).attr("data-callback")&&window[$this.attr("data-callback")]($this),L(void 0,$(".modal"+$this.attr("data-modal")))});var O=function(e){($(".right-bar").is(":hidden")||!$(".right-bar").length)&&$("body").removeClass("noscroll"),$(".modal").fadeOut(150),$(".pre-delete").removeClass("pre-delete")};function A(e){var t=document.createElement("textarea");t.style.position="absolute",t.style.top="-10000px",t.style.left="-10000px",t.value=e,document.body.appendChild(t),t.focus(),t.select();try{var a=document.execCommand("copy");console.log("Fallback: Copying text command was "+(a?"successful":"unsuccessful"))}catch(s){console.error("Fallback: Oops, unable to copy",s)}document.body.removeChild(t)}function E(e){if(!navigator.clipboard){fallbackCopyTextToClipboard(e);return}navigator.clipboard.writeText(e).then(function(){console.log("Async: Copying to clipboard was successful!")},function(e){console.error("Async: Could not copy text: ",e)})}async function H(){if(!navigator)return console.log("Navigator API is not supported in this browser."),!1;if(!navigator.clipboard)return console.log("Clipboard API is not supported in this browser."),!1;if(!navigator.permissions)return console.log("Permissions API is not supported in this browser."),!1;try{return await navigator.permissions.query({name:"clipboard-write"}),console.log("Clipboard-write permission is supported."),!0}catch(e){return e instanceof TypeError?console.log("'clipboard-write' is not a valid value for enumeration PermissionName."):console.log("An unexpected error occurred:",e),!1}}async function z(e){return new Promise(async(t,a)=>{if(await H()){let s="text/plain",i=new Blob([e],{type:s}),o=[new ClipboardItem({[s]:i})];navigator.permissions.query({name:"clipboard-write"}).then(e=>{"granted"===e.state||"prompt"===e.state?navigator.clipboard.write(o).then(t,a).catch(a):a(Error("Permission not granted!"))})}else if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var r=document.createElement("textarea");r.textContent=e,r.style.position="fixed",r.style.width="2em",r.style.height="2em",r.style.padding=0,r.style.border="none",r.style.outline="none",r.style.boxShadow="none",r.style.background="transparent",document.body.appendChild(r),r.focus(),r.select();try{document.execCommand("copy"),document.body.removeChild(r),t()}catch(l){document.body.removeChild(r),a(l)}}else a(Error("None of copying methods are supported by this browser!"))})}$(".notification-flash .close").click(function(e){$(this).closest(".notification-flash").fadeOut(150)}),$(".notification-bar .close").click(function(e){$(this).closest(".notification-bar").fadeOut(150)}),$('[data-action="filter--search"]').keyup(function(e){$(e.target).val().length?$(this).closest(".form-group").find(".search-clear").css("opacity",1):$(this).closest(".form-group").find(".search-clear").css("opacity",0),$(".search--list .checkbox-custom").filter(function(){$(this).toggle($(this).find("label").text().toLowerCase().indexOf($(e.target).val())>-1)})}),$(".right-bar.filter-list .filter--search .search-clear").click(function(e){$(".search--list .checkbox-custom").filter(function(){$(this).toggle($(this).find("label").text().toLowerCase().indexOf("")>-1)}),$(this).closest(".form-group").find('[data-action="filter--search"]').val(""),$(this).css("opacity",0)}),$(".filter-list .section--title a").click(function(e){$(this).hasClass("all-selected")?$(this).removeClass("all-selected").text("Select all").closest(".filter-list__section").find('input[type="checkbox"]').prop("checked",!1).change():$(this).addClass("all-selected").text("Deselect all").closest(".filter-list__section").find('input[type="checkbox"]').prop("checked",!0).change(),e.preventDefault()}),$('.filter-list__section input[type="checkbox"]').change(function(e){var t=$(this).closest(".filter-list__section").find('input[type="checkbox"]').length,a=$(this).closest(".filter-list__section").find('input[type="checkbox"]:checked').length;t==a?$(this).closest(".filter-list__section").find(".section--title a").addClass("all-selected").text("Deselect all"):$(this).closest(".filter-list__section").find(".section--title a").hasClass("all-selected")&&$(this).closest(".filter-list__section").find(".section--title a").removeClass("all-selected").text("Select all")}),$('table thead [data-action="select-all"]').change(function(e){var t=$(this).is(":checked");$(this).closest("table").find('tbody .table__first_td input[type="checkbox"]').prop("checked",t),t?$(".topmenu, .botmenu").addClass("active"):$(".topmenu, .botmenu").removeClass("active")}),$('.right-bar__body.filter-list__body input[type="checkbox"]').change(function(e){$('.right-bar__body.filter-list__body input[type="checkbox"]:checked').length?$('.right-bar__body.filter-list__body [data-action="filters-save-group"]').prop("disabled",!1):$('.right-bar__body.filter-list__body [data-action="filters-save-group"]').prop("disabled",!0)}),$(".assign--list select").length&&$(".assign--list select").selectize(),$(".bulk-actions select").length&&$(".bulk-actions select").selectize(),$(".search-options select").length&&$(".search-options select").selectize(),$('[data-action="add-filters"], [data-action="ticket-mobile-filters"]').click(function(e){$("body").toggleClass("noscroll"),$(".filter-list").fadeIn(150)}),$(".dropdown.assignment .assign__body > li > a").click(function(e){var t=$(e.currentTarget).closest("li").attr("data-type");(console.log(t),"to-my"==t)?($(e.currentTarget).closest(".assign__wrapper").removeClass("unassigned").removeClass("assign").addClass("to-my"),$(e.currentTarget).closest(".assign__wrapper").find(".assign__head .assign__head_name b").text("To my"),$(e.currentTarget).closest(".assign__wrapper").find(".assign__head .assign__head_name span").text("Assigned to me"),$(e.currentTarget).closest(".dropdown").find("label span").text("To my"),c(10)):"unassigned"==t?($(e.currentTarget).closest(".assign__wrapper").removeClass("to-my").removeClass("assign").addClass("unassigned"),$(e.currentTarget).closest(".assign__wrapper").find(".assign__head .assign__head_name b").text("Unassigned"),$(e.currentTarget).closest(".assign__wrapper").find(".assign__head .assign__head_name span").text("This ticket is not assigned to anyone"),$(e.currentTarget).closest(".dropdown").find("label span").text("Unassigned"),c(10)):"assign"==t&&($(e.currentTarget).closest(".dropdown").find("select").selectize()[0].selectize.clear(),$(e.currentTarget).closest(".dropdown").find(".assign--buttons").hide(),$(e.currentTarget).closest(".dropdown").find(".assign--list").show()),e.preventDefault()}),$('.dropdown.assignment .assign--list [data-action="close"]').click(function(e){$(e.currentTarget).closest(".dropdown").find(".assign--buttons").show(),$(e.currentTarget).closest(".dropdown").find(".assign--list").hide()}),$('.dropdown.assignment .assign--list [data-action="save"]').click(function(e){var t=$(e.currentTarget).closest(".assign--list").find("select").val();$.trim(t).length&&($(e.currentTarget).closest(".dropdown").find(".assign__wrapper").removeClass("unassigned").removeClass("to-my").addClass("assign"),$(e.currentTarget).closest(".dropdown").find(".assign__head .assign__head_name b").text(t),$(e.currentTarget).closest(".dropdown").find(".assign__head .assign__head_name span").text("Assigned to "+t),$(e.currentTarget).closest(".dropdown").find("label span").text(t),c(10))}),$('#default-table .table__first_td input[type="checkbox"]').change(function(e){$(this).is(":checked")?$(this).closest("tr").addClass("selected"):$(this).closest("tr").removeClass("selected");var t=$('#default-table .table__first_td input[type="checkbox"]:checked').length;$(".topmenu > p").text(t+" tasks selected"),t>0?$(".topmenu, .botmenu").addClass("active"):$(".topmenu, .botmenu").removeClass("active")}),$('.tickets__mobile_head [data-action="ticket-mobile-actions"]').click(function(e){$(".main__content.tickets").toggleClass("actions")}),$('[data-action="tickets-select-dismiss"]').click(function(e){$(".topmenu, .botmenu").removeClass("active"),$('#default-table .table__first_th input[type="checkbox"]:checked, #default-table .table__first_td input[type="checkbox"]:checked').prop("checked",!1)}),$(document).on("click touchstart",'[data-action="generate-link"]',async function(e){e.preventDefault();let t=!0,a=$(this).data("link");try{await z(a)}catch(s){t=!1,console.error(s)}$('[data-type="link-generate-message"]').toggleClass("display-error",!t).fadeIn(150,function(){var e=$(this);setTimeout(function(){e.fadeOut(150)},3e3)})}),$('[data-action="category-create"]').click(function(e){$(".right-bar.category-create").fadeIn(150),$("body").addClass("noscroll"),$("input:text:visible:first").focus(),e.preventDefault()}),$('select[name="modal-dropdown"]').selectize(),$('[data-action="team-create"]').click(function(e){$(".right-bar.team-create").fadeIn(150),$("body").addClass("noscroll"),$("input:text:visible:first").focus(),e.preventDefault()}),$('.right-bar.team-create [data-action="next"]').click(function(e){var t=Number($(".right-bar.team-create .right-bar__body").attr("data-step"))+1;$(".right-bar.team-create .right-bar__body").attr("data-step",t)}),$('.right-bar.team-create [data-action="back"]').click(function(e){var t=Number($(".right-bar.team-create .right-bar__body").attr("data-step"))-1;$(".right-bar.team-create .right-bar__body").attr("data-step",t)}),$('.right-bar.team-create [data-action="save"]').click(function(e){var t=-.5+8*Math.random();t=Math.round(t);var a='<tr class="team-new">'+$($(".table tbody tr")[t]).html()+"</tr>";$(".team .table tbody").prepend(a),$(".right-bar.team-create").fadeOut(150).find(".right-bar__body").attr("data-step",1),$('.notification-flash[data-type="team-created-confirm"]').fadeIn(150,function(){var e=$(this);setTimeout(function(){e.fadeOut(150)},3e3)})}),$('.modal.team-delete [data-action="cancel"]').click(function(){$(".modal.team-delete").fadeOut(150)}),$('.modal.team-delete [data-action="close"]').click(function(e){$(".team-create").fadeOut(150,O).find(".right-bar__body").attr("data-step",1)}),$.isFunction($.fn.datepicker)&&$(".datepicker").datepicker({language:"en",position:"right top",autoClose:!0,onSelect:function(e,t,a){e.length&&a.$el.parent().parent().find(".calendar--value").fadeIn(150).find("span").text(e)},onHide:function(e,t){$(".param.calendar button").removeClass("active")}}),initDatePickerEvents(),$(".right-bar.ticket-create .step-1 .cayrgory-list li").click(function(e){$(".right-bar.ticket-create .right-bar__body").attr("data-step",2)}),$('.right-bar.ticket-create [data-action="next"]').click(function(e){var t=Number($(".right-bar.ticket-create .right-bar__body").attr("data-step"))+1;$(".right-bar.ticket-create .right-bar__body").attr("data-step",t)}),$('.right-bar.ticket-create [data-action="back"]').click(function(e){var t=Number($(".right-bar.ticket-create .right-bar__body").attr("data-step"))-1;$(".right-bar.ticket-create .right-bar__body").attr("data-step",t)}),$('.right-bar.ticket-create [data-action="save"]').click(function(e){var t=-.5+8*Math.random();t=Math.round(t);var a='<tr class="new ticket-new">'+$($(".table tbody tr")[t]).html()+"</tr>";$(".table.ticket-list tbody").prepend(a),$(".right-bar.ticket-create").fadeOut(150).find(".right-bar__body").attr("data-step",1),$('.notification-flash[data-type="ticket-created-confirm"]').fadeIn(150,function(){var e=$(this);setTimeout(function(){e.fadeOut(150)},3e3)}),$("body").removeClass("noscroll")}),$(".right-bar .step-bar li").click(function(e){var t=Number($(this).attr("data-link")),a=Number($(this).closest(".right-bar__body").attr("data-step"));t!=a&&$(this).closest(".right-bar__body").attr("data-step",t)}),$('.main__content.profile [data-action="profile-edit"]').click(function(e){$(".right-bar.profile-edit").fadeIn(150),$("body").addClass("noscroll")}),$('.main__content.profile [data-action="profile-delete"]').click(function(e){$(".modal.profile-delete").fadeIn(150),e.preventDefault()}),$('.modal [data-action="cancel"]').click(function(e){e.preventDefault(),O()}),$('[data-action="profile-log-out"]').click(function(e){$(".modal.log-out").fadeIn(150),e.preventDefault()}),$('.right-bar.profile-edit [data-action="save"]').click(function(e){$(this).closest(".right-bar").fadeOut(150),$("body").removeClass("noscroll"),$('.notification-bar[data-type="profile-saved"]').fadeIn(150)}),$('.main__content.profile [data-action="profile-password"]').click(function(e){$(".right-bar.profile-password").fadeIn(150),$("body").addClass("noscroll")}),$('.right-bar.profile-password [data-action="save"]').click(function(e){$(this).closest(".right-bar").fadeOut(150),$("body").removeClass("noscroll"),$('.notification-bar[data-type="profile-saved"]').fadeIn(150)}),$("#profile-photo-upload").change(function(e){var t=new FileReader,a=$(this).closest(".profile__photo").find(".profile__photo_wrapper img");this.files&&this.files[0]&&(t.onload=function(e){a.attr("src",e.target.result)},t.readAsDataURL(this.files[0]),$(this).closest(".edit-modal__photo").find(".edit-modal__photo_delete").show())}),$("#email-create-destination").length&&$("#email-create-destination").selectize(),$("#email-batch-process").length&&$("#email-batch-process").selectize(),$('[data-action="create-service-message"]').click(function(e){console.log(e),$(".right-bar.service-message-create").fadeIn(150),$("body").addClass("noscroll"),$("input:text:visible:first").focus()}),$('.right-bar.service-message-create [data-action="back"]').click(function(e){$(".right-bar.service-message-create .right-bar__body").attr("data-step",1)}),$('.right-bar.service-message-create [data-action="next"]').click(function(e){$(".right-bar.service-message-create .right-bar__body").attr("data-step",2)}),$('.right-bar.service-message-create [data-action="save"]').click(function(e){$(".right-bar.service-message-create").fadeOut(150),$("body").removeClass("noscroll")}),$('[data-action="edit-tools-email-template"]').click(function(e){$(".right-bar.tools-email-template-edit").fadeIn(150),$("body").addClass("noscroll"),e.preventDefault()}),$('.right-bar.tools-email-template-edit [data-action="save-changes"]').click(function(e){$(".right-bar.tools-email-template-edit").fadeOut(150),$("body").removeClass("noscroll")}),$('[data-action="create-custom-field"]').click(function(e){$(".right-bar.create-custom-field").fadeIn(150),$("body").addClass("noscroll"),$("input:text:visible:first").focus()}),$('.right-bar.create-custom-field [data-action="save"]').click(function(e){$(".right-bar.create-custom-field").fadeOut(150),$("body").removeClass("noscroll")}),$('[data-action="create-custom-status"]').click(function(e){$(".right-bar.create-status").fadeIn(150),$("body").addClass("noscroll"),$("input:text:visible:first").focus()}),$('.right-bar.create-status [data-action="save"]').click(function(e){$(".right-bar.create-status").fadeOut(150),$("body").removeClass("noscroll")}),$('.right-bar.create-status [data-action="status-color"]').change(function(e){/^#[0-9A-F]{6}$/i.test($(this).val())?($(this).css("color",$(this).val()),$(this).closest(".form-group").find("span").css("color",$(this).val())):($(this).css("color","#26282a").val(""),$(this).closest(".form-group").find("span").css("color","#26282a"))}),$("body").on("mouseenter",".tooltype",function(e){}),$("body").on("mouseleave",".tooltype",function(e){}),$(".input-tags").selectize({persist:!1,createOnBlur:!0,create:!0}),$("#timezone-select").length&&$("#timezone-select").selectize(),$(".knowledge__head_tabs li").click(function(e){var t=$(this).attr("data-link");$(".knowledge__head_tabs li").removeClass("current"),$(this).addClass("current"),$(".knowledge__tabs").attr("data-current",t)}),$(".main__content.knowledge.category .category__list_head .toogle, .main__content.knowledge.category .category__list_head .show").click(function(e){$(this).closest(".category__list").hasClass("visible")?$(this).closest(".category__list").removeClass("visible").find(".category__list_table").slideUp(150):$(this).closest(".category__list").addClass("visible").find(".category__list_table").slideDown(150),e.preventDefault()}),$("#knowledge-article-edit-keywords").selectize({plugins:["remove_button"],delimiter:",",persist:!1,create:function(e){return{value:e,text:e}}}),$('.knowledge [data-action="knowledge-category-create"]').click(function(e){$(".right-bar.knowledge-category-create").fadeIn(150),$("body").addClass("noscroll"),e.preventDefault()}),$('.knowledge [data-action="knowledge-sub-category-create"]').click(function(e){$(".right-bar.knowledge-sub-category-create").fadeIn(150),$("body").addClass("noscroll"),e.preventDefault()}),$('.knowledge [data-action="knowledge-category-edit"]').click(function(e){$(".right-bar.knowledge-category-edit").fadeIn(150),$("body").addClass("noscroll"),e.preventDefault()}),$('.knowledge [data-action="knowledge-category-edit"]').click(function(e){$(".right-bar.knowledge-category-edit").fadeIn(150),$("body").addClass("noscroll"),e.preventDefault()}),$('.knowledge [data-action="knowledge-sub-category-edit"]').click(function(e){$(".right-bar.knowledge-sub-category-edit").fadeIn(150),$("body").addClass("noscroll"),e.preventDefault()}),$(".knowledge").on("click",'[data-action="generate-link"]',async function(e){e.preventDefault();let t=!0;$(this).data("link");try{await z($(this).data("link"))}catch(a){t=!1,console.error(a)}$('[data-type="link-generate-message"]').toggleClass("display-error",!t).fadeIn(150,function(){var e=$(this);setTimeout(function(){e.fadeOut(150)},3e3)})}),$.isFunction($.fn.datepicker)&&$("#search-datepicker").datepicker({language:"en",position:"left top",autoClose:!0,range:!0,multipleDatesSeparator:" - ",toggleSelected:!1,onSelect:function(e,t,a){e.length},onHide:function(e,t){}}),$('.header__mobile [data-action="toggle-menu"]').click(function(e){$("body").removeClass("show-search"),$("body").toggleClass("show-menu")}),$('.header__mobile [data-action="toggle-search"]').click(function(e){$("body").toggleClass("show-search")}),$(".selectize-control:not(.read-write) .selectize-input input").prop("readonly",!0)}),$(".email__list_aside .list--item").click(function(e){var t=$(this).find(".head h5").text();$(".email__list_descr .head h3").text(t),$(".email__list_article").fadeIn(150).animate({right:0},300)}),$(".btn-hide-article").click(function(){$(this).closest(".email__list_article").animate({right:"-100vw"},300)}),$("#header-search").keyup(function(e){$.trim($(this).val()).length?$(".form__search_results").slideDown(150):$(".form__search_results").slideUp(150)});